let gamePattern=[],randomChosenColour=null;const buttonColours=["red","blue","green","yellow"];let userClickedPattern=[];const buttons=document.querySelectorAll(".btn");let lvl=0;const keyDown=function(){var e=!1;return function(){e||(e=!0,nextSequence())}}();document.addEventListener("keydown",keyDown),document.addEventListener("touchstart",keyDown);const nextSequence=()=>{document.addEventListener("keydown",keyDown),document.addEventListener("touchstart",keyDown),document.removeEventListener("keydown",startOver),document.removeEventListener("touchstart",startOver);let e=Math.floor(4*Math.random());randomChosenColour=buttonColours[e],gamePattern.push(randomChosenColour),lvl+=1,document.querySelector("h1").innerHTML="Level "+lvl,playSound(gamePattern[gamePattern.length-1]),checkAnswer()};for(let i=0;i<buttons.length;i++)buttons[i].addEventListener("click",function(e){userClickedPattern.push(buttons[i].id),playSound(buttons[i].id),checkAnswer()});const checkAnswer=()=>{gamePattern[userClickedPattern.length-1]===userClickedPattern[userClickedPattern.length-1]&&userClickedPattern.length===gamePattern.length?(userClickedPattern=[],setTimeout(nextSequence,700)):gamePattern[userClickedPattern.length-1]!==userClickedPattern[userClickedPattern.length-1]&&gameOver()},gameOver=()=>{var e;document.querySelector("body").classList.add("game-over");let t=()=>{document.querySelector("body").classList.remove("game-over")};setTimeout(t,350),document.querySelector("h1").innerHTML="Game Over, Press Any Key to Restart",new Audio("./sounds/wrong.mp3").play(),document.removeEventListener("keydown",keyDown),document.removeEventListener("touchstart",keyDown),document.addEventListener("keydown",startOver),document.addEventListener("touchstart",startOver),executed=!1},startOver=()=>{lvl=0,gamePattern=[],userClickedPattern=[],nextSequence()},playSound=e=>{switch($("."+e).fadeOut(100).fadeIn(100),document.querySelector("."+e).classList.add("pressed"),setTimeout(function(){document.querySelector("."+e).classList.remove("pressed")},100),e){case"red":var t=new Audio("./sounds/red.mp3");t.play();break;case"blue":var t=new Audio("./sounds/blue.mp3");t.play();break;case"green":var t=new Audio("./sounds/green.mp3");t.play();break;case"yellow":var t=new Audio("./sounds/yellow.mp3");t.play()}};
